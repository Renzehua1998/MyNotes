# åŸºç¡€çŸ¥è¯†

> æ•°ç»„æ˜¯å­˜æ”¾åœ¨è¿ç»­å†…å­˜ç©ºé—´ä¸Šçš„ç›¸åŒç±»å‹æ•°æ®çš„é›†åˆï¼Œå¯ä»¥æ–¹ä¾¿çš„é€šè¿‡ä¸‹æ ‡ç´¢å¼•çš„æ–¹å¼è·å–åˆ°ä¸‹æ ‡ä¸‹å¯¹åº”çš„æ•°æ®

- ä¸‹æ ‡ä»0å¼€å§‹
- å­˜å‚¨ç©ºé—´åœ°å€è¿ç»­
- å…ƒç´ ä¸èƒ½åˆ é™¤ï¼Œåªèƒ½è¦†ç›–

æ³¨ï¼šC++ vectorçš„åº•å±‚å®ç°æ˜¯arrayï¼Œvectoræ˜¯å®¹å™¨ã€‚

[C++å¸¸è§å®¹å™¨](https://blog.csdn.net/weixin_43719763/article/details/127147035)

# äºŒåˆ†æ³•

## 704äºŒåˆ†æŸ¥æ‰¾

ç»™å®šä¸€ä¸ª n ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ target  ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ nums ä¸­çš„ targetï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚

å¯ä»¥ç”¨äºŒåˆ†æ³•çš„æ¡ä»¶ï¼š

- æœ‰åº
- æ— é‡å¤å…ƒç´ 

**å¾ªç¯ä¸å˜é‡è§„åˆ™**ï¼šåœ¨whileå¯»æ‰¾ä¸­æ¯ä¸€æ¬¡è¾¹ç•Œçš„å¤„ç†éƒ½è¦åšæŒæ ¹æ®åŒºé—´çš„å®šä¹‰æ¥æ“ä½œ

æ¯æ¬¡æ›´æ–°leftä¸€å®šæ˜¯middle+1ï¼Œå› ä¸ºé—­åŒºé—´ä¸éœ€è¦è€ƒè™‘ä¸€å®šä¸æ»¡è¶³æ¡ä»¶çš„ä½ç½®

1. é—­åŒºé—´ï¼šå¾ªç¯åˆ¤åˆ«ä½¿ç”¨<=ï¼Œæ¯æ¬¡æ›´æ–°right=middle-1
2. å·¦é—­å³å¼€ï¼šå¾ªç¯åˆ¤åˆ«ä½¿ç”¨<ï¼Œæ¯æ¬¡æ›´æ–°right=middle

**ä¼¼ä¹å·¦é—­å³å¼€æ•ˆç‡æ›´é«˜ï¼Œæ­¤æ–¹æ¡ˆå¯ä»¥é¿å…left==rightåå†æ›´æ–°middle**

### C++

ç›¸å…³çŸ¥è¯†ï¼š

1. vectorç±»çš„ä¸€äº›æ–¹æ³•

```c++
åˆ›å»ºä¸€ç»´vector
vector<int> nums; //ä¸æŒ‡å®šé•¿åº¦
vector<int> nums(n); //æŒ‡å®šé•¿åº¦
 
æ·»åŠ å…ƒç´ 
nums.push_back(1); //ç›´æ¥åœ¨æœ«ç«¯æ·»åŠ å…ƒç´ 1
 
åˆ é™¤å…ƒç´ 
nums.resize(num.size-i); //åˆ é™¤åé¢iä¸ªå…ƒç´ 
nums.pop_back(); //åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ 
 
è·å–é•¿åº¦
nums.size();
 
åˆ¤ç©º
nums.empty();
nums.size()==0;
```

2. å¼•ç”¨å‚æ•°ä¼ é€’

å‡½æ•°å‚æ•°ä¸€èˆ¬åˆ†ä¸ºä¸‰ç§ï¼Œä¸€ç§æ˜¯çº¯ç²¹çš„å€¼ä¼ é€’æ•°æ®å‚æ•°ï¼Œç¬¬äºŒç§æ˜¯åœ°å€ä¼ é€’ï¼Œç¬¬ä¸‰ç§æ˜¯å¼•ç”¨ä¼ é€’

- çº¯å€¼ï¼šå½¢å‚å±€éƒ¨å˜é‡ä¸æ”¹å˜å®å‚å…¨å±€å˜é‡
- åœ°å€ï¼šä¼ å…¥åœ°å€å½¢å‚ï¼ˆ*aï¼‰å®å‚ï¼ˆ&aï¼‰ï¼Œæ”¹å˜å…¨å±€å˜é‡
- å¼•ç”¨ï¼šä¼ å…¥å¼•ç”¨å½¢å‚ï¼ˆ&aï¼‰å®å‚ï¼ˆaï¼‰ï¼Œæ”¹å˜å…¨å±€å˜é‡

é˜²æ­¢left+rightæº¢å‡ºï¼ˆè¶…å‡ºæ•´æ•°èŒƒå›´ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨`int middle = left + (right - left) >> 1;`

æ³•äºŒï¼š

```c++
class Solution {
public:
    int search(vector<int>& nums, int target) {
        int left = 0;
        int right = nums.size();
        while (left < right) {
            // int middle = (left + right) >> 1;
            // é˜²æ­¢left+rightæº¢å‡ºï¼ˆè¶…å‡ºæ•´æ•°èŒƒå›´ï¼‰
            int middle = left + (right - left) >> 1;
            if (nums[middle] < target) {
                left = middle + 1;
            } else if (nums[middle] > target) {
                right = middle;
            } else {
                return middle;
            }
        }
        return -1;
    }
};
```

### Python

ç›¸å…³çŸ¥è¯†ï¼š

Pythonæ•´é™¤æ˜¯`\\`

pythonå¯ä»¥ä¸ç”¨è€ƒè™‘æº¢å‡ºï¼Œå› ä¸ºå®ƒçš„æ•´æ•°intå‹è¶³å¤Ÿå¤§

æ³•ä¸€ï¼š

```python
class Solution:
    def search(self, nums: List[int], target: int) -> int:
        left = 0
        right = len(nums) - 1
        while left <= right:
            middle = (left + right) // 2
            if nums[middle] < target:
                left = middle + 1
            elif nums[middle] > target:
                right = middle -1
            else:
                return middle
        return -1
```

## 35æœç´¢æ’å…¥ä½ç½®

### C++

```c++
class Solution {
public:
    int searchInsert(vector<int>& nums, int target) {
        int left = 0;
        int right = nums.size();
        int mid = 0;
        while (left < right) {
            mid = left + (right - left) / 2;
            if (nums[mid] < target) {
                left = mid + 1;
            } else if (nums[mid] > target) {
                right = mid;
            } else {
                return mid;
            }
        }
        return right;
    }
};
```

**ä¸€å®šè¦è¿”å›rightï¼Œè¿”å›middleå°±é”™äº†ã€‚**æŒ‰äºŒåˆ†æ³•å®šä¹‰ï¼Œ

- å·¦é—­å³å¼€åŒºé—´çš„æ—¶å€™å³æŒ‡é’ˆä¸€å®šæ˜¯è¯¥æ’å…¥çš„ä½ç½®ã€‚
- é—­åŒºé—´ä¸‹åº”è¯¥æ˜¯right+1ã€‚

### Python

```python
class Solution:
    def searchInsert(self, nums: List[int], target: int) -> int:
        left = 0
        right = len(nums)
        while left < right:
            mid = (left + right) // 2
            if nums[mid] < target:
                left = mid + 1
            elif nums[mid] > target:
                right = mid
            else:
                return mid
        return right
```

## 34åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®

### C++

1. æ–¹æ³•1ï¼šåˆ†åˆ«æ‰¾å·¦å³è¾¹ç•Œï¼Œä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼›å†åˆ¤æ–­å·¦å³è¾¹ç•Œçš„èŒƒå›´
   - æƒ…å†µä¸€ï¼štarget åœ¨æ•°ç»„èŒƒå›´çš„å³è¾¹æˆ–è€…å·¦è¾¹ï¼Œä¾‹å¦‚æ•°ç»„{3, 4, 5}ï¼Œtargetä¸º2æˆ–è€…æ•°ç»„{3, 4, 5},targetä¸º6ï¼Œæ­¤æ—¶åº”è¯¥è¿”å›{-1, -1}
   - æƒ…å†µäºŒï¼štarget åœ¨æ•°ç»„èŒƒå›´ä¸­ï¼Œä¸”æ•°ç»„ä¸­ä¸å­˜åœ¨targetï¼Œä¾‹å¦‚æ•°ç»„{3,6,7},targetä¸º5ï¼Œæ­¤æ—¶åº”è¯¥è¿”å›{-1, -1}
   - æƒ…å†µä¸‰ï¼štarget åœ¨æ•°ç»„èŒƒå›´ä¸­ï¼Œä¸”æ•°ç»„ä¸­å­˜åœ¨targetï¼Œä¾‹å¦‚æ•°ç»„{3,6,7},targetä¸º6ï¼Œæ­¤æ—¶åº”è¯¥è¿”å›{1, 1}

- **ä½¿ç”¨å¤§äºç­‰äºäºŒåˆ†æ³•æŸ¥åˆ°çš„ä¸€å®šæ˜¯å·¦è¾¹ç•Œï¼Œä½¿ç”¨å°äºç­‰äºäºŒåˆ†æ³•æŸ¥åˆ°çš„ä¸€å®šæ˜¯å³è¾¹ç•Œã€‚**
- å·¦è¾¹ç•Œä½¿ç”¨å³æŒ‡é’ˆï¼Œå³è¾¹ç•Œä½¿ç”¨å·¦æŒ‡é’ˆã€‚
- **ä¸ºä»€ä¹ˆborderä¸å¯ä»¥æ˜¯-1**ï¼šæœ‰å¯èƒ½åœ¨è¾¹ç•Œä¸Šï¼Œleftbordeeæ‰¾åˆ°çš„æ˜¯-1ï¼Œä¸å¥½åˆ¤æ–­ã€‚

![image-20230105153000875](01æ•°ç»„/image-20230105153000875.png)

```c++
// å·¦é—­å³å¼€åŒºé—´æ³•
class Solution {
public:
    vector<int> searchRange(vector<int>& nums, int target) {
        int left = 0;
        int right = nums.size();
        int leftBorder = -2, rightBorder = -2;
        while (left < right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] < target) {
                left = mid + 1;
            } else {
                right = mid;
                leftBorder = right - 1;
            }
        }
        left = 0;
        right = nums.size();
        while (left < right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] <= target) {
                left = mid + 1;
                rightBorder = left;
            } else {
                right = mid;
            }
        }
        // cout << leftBorder << ' ' << rightBorder << endl;
        // æƒ…å†µä¸€
        if (leftBorder == -2 || rightBorder == -2) return {-1, -1};
        // æƒ…å†µä¸‰
        if (rightBorder - leftBorder > 1) return {leftBorder + 1, rightBorder - 1};
        // æƒ…å†µäºŒ
        return {-1, -1};
    }
};
```

2. æ–¹æ³•2
   - äºŒåˆ†æŸ¥æ‰¾ targetï¼Œä½¿ç”¨å¤§äºç­‰äºï¼Œæ‰¾å·¦è¾¹ç•Œ
   - äºŒåˆ†æŸ¥æ‰¾å¤±è´¥ï¼Œè¿”å›falseï¼Œç»“æœä¸º[-1,-1]
   - äºŒåˆ†æŸ¥æ‰¾æˆåŠŸï¼Œè¿”å›trueï¼Œå‘å³æ¸¸èµ°æ‰¾å³è¾¹ç•Œ
   - å¤æ‚åº¦O(n)ï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹è¾¾ä¸åˆ°ï¼Œå¯ä»¥é€šè¿‡

```c++
class Solution {
public:
    vector<int> searchRange(vector<int>& nums, int target) {
        int left = 0;
        int right = nums.size();
        int leftPos = -2; // ç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„ä½ç½®
        bool find = false; // æ˜¯å¦æ‰¾åˆ°
        while (left < right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] < target) {
                left = mid + 1;
            } else {
                right = mid;
                leftPos = mid - 1;
            }
            if (nums[mid] == target) find = true;
        }
        if (!find) {
            return {-1, -1};
        } else {
            int rightPos;
            for (rightPos = leftPos + 1; rightPos < nums.size() && nums[rightPos] == target; rightPos++) {}
            return {leftPos + 1, rightPos - 1};
        }

    }
};
```

3. æ–¹æ³•3ï¼ˆç•¥ï¼‰
   - æ‰¾targetï¼Œä½¿ç”¨å¤§äºç­‰äºï¼Œæ‰¾å·¦è¾¹ç•Œ
   - æ‰¾target+1ï¼Œä½¿ç”¨å¤§äºç­‰äºï¼Œæ‰¾å·¦è¾¹ç•Œï¼Œå‡1å¾—targetå³è¾¹ç•Œ
   - åˆ¤æ–­æƒ…å†µè¿”å›å³å¯
   - å…¶å®ä¹Ÿæ˜¯ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾

### Python

é—­åŒºé—´æ³•1ï¼š

```python
class Solution:
    def searchRange(self, nums: List[int], target: int) -> List[int]:
        left = 0
        right = len(nums) - 1
        leftPos = -2
        while left <= right:
            mid = (left + right) // 2
            if (nums[mid] < target):
                left = mid + 1
            else:
                right = mid - 1
                leftPos = right
        left = 0
        right = len(nums) - 1
        rightPos = -2
        while left <= right:
            mid = (left + right) // 2
            if (nums[mid] <= target):
                left = mid + 1
                rightPos = left
            else:
                right = mid - 1
        if rightPos - leftPos > 1 and rightPos != -2 and leftPos != -2:
            return [leftPos + 1, rightPos - 1]
        return [-1, -1]
```

## 69*x çš„å¹³æ–¹æ ¹

1. äºŒåˆ†æ³•ï¼Œæ¯æ¬¡çœ‹midå¹³æ–¹å’Œxçš„å…³ç³»
   - ä¸€äº›å°æŠ€å·§ï¼šå¯¹äº0ï¼Œ1çš„ç‰¹æ®Šæƒ…å†µç›´æ¥è¿”å›ï¼›ä½¿ç”¨`int mid = left + (right - left) / 2;``if (mid > x / mid)`ç­‰æ–¹æ³•é˜²æ­¢æº¢å‡ºã€‚
   - èµ·å§‹å³é—­åŒºé—´ä¸ºn/2æ—¶ï¼Œå·¦åŒºé—´ä»1å¼€å§‹ï¼Œé˜²æ­¢è¾“å…¥2 æ—¶æ­»å¾ªç¯ã€‚
   - ä½¿ç”¨é—­åŒºé—´å¯ä»¥é¿å…4çš„ä¸€åŠ2å¹³æ–¹æ˜¯4ï¼Œä»n/2å¼€å§‹ä¼šæ¼æ‰çš„é—®é¢˜ã€‚
   - ä½¿ç”¨å³å¼€åŒºé—´å°±éœ€è¦æ³¨æ„è¦ä¹ˆå¯¹4ç‰¹æ®Šè€ƒè™‘ï¼Œè¦ä¹ˆå¼€å¤´ä»xå¼€å§‹ã€‚

2. ç‰›é¡¿æ³•

![image-20230105184812816](01æ•°ç»„/image-20230105184812816.png)

### C++

```c++
class Solution {
public:
    int mySqrt(int x) {
        if (x == 0 || x == 1) return x; // ç‰¹æ®Šæƒ…å†µç›´æ¥è¿”å›
        int left = 1;
        int right = x / 2;
        int ans = 1;
        while (left <= right) {
            int mid = left + (right - left) / 2; // é˜²æ­¢æº¢å‡º
            if (mid > x / mid) { // é˜²æ­¢æº¢å‡º
                right = mid - 1;
            } else {
                left = mid + 1;
                ans = mid; // å°äºç­‰äºæ‰ç¬¦åˆå–æ•´çš„è¦æ±‚
            }
        }
        return ans;
    }
};
```

```c++
class Solution {
public:
    int mySqrt(int x) {
        if (x == 0) return 0;
        double C = x, x0 = x, xi = x;
        while (true) {
            xi = 0.5 * (x0 + C / x0);
            if (fabs(x0 - xi) < 1e-7) {
                break;
            }
            x0 = xi;
        }
        return int(x0);
    }
};
```

### Python

```python
class Solution:
    def mySqrt(self, x: int) -> int:
        if x <= 1:
            return x
        left = 1
        right = x // 2
        while left <= right:
            mid = left + (right - left) // 2
            if mid <= x / mid:  # ä¸èƒ½è½äº†ç­‰äºï¼Œä¼šæœ‰åˆšå¥½æ»¡è¶³çš„æƒ…å†µ
                left = mid + 1
                ans = mid
            else:
                right = mid - 1
        return ans
```

```python
class Solution:
    def mySqrt(self, x: int) -> int:
        if x == 0:
            return x
        C, x0, x1 = x, x, x
        while True:
            x1 = 0.5 * (x0 + C / x0)
            if abs(x0 - x1) < 1e-7:
                break
            x0 = x1
        return int(x0)
```



## 367æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°

1. äºŒåˆ†æ³•ï¼š

   - éœ€è¦æ³¨æ„èˆå…¥è¯¯å·®ï¼Œå‰é¢ä¸ºé˜²æ­¢æº¢å‡ºåˆ¤æ–­æ—¶åŠ çš„`if (mid > num / mid)`ï¼Œåœ¨è¿ç®—æ—¶å¯èƒ½å‡ºç°ä¸æ»¡è¶³æ¡ä»¶ä½†è¿”å›æ»¡è¶³çš„æƒ…å†µï¼Œéœ€è¦å†åŠ ä¸€å±‚åˆ¤æ–­ï¼Œæ­¤æ—¶ä¸ç”¨æ‹…å¿ƒèˆå…¥è¯¯å·®ã€‚

   - æˆ–è€…ç›´æ¥ä½¿ç”¨longä¹Ÿè¡Œ

2. æ•°å­¦æ³•ï¼šï¼ˆéªšï¼‰
   - å¹³æ–¹æ•°æ€§è´¨1 4=1+3 9=1+3+5 16=1+3+5+7ä»¥æ­¤ç±»æ¨ï¼Œæ¨¡ä»¿å®ƒå¯ä»¥ä½¿ç”¨ä¸€ä¸ªwhileå¾ªç¯ï¼Œä¸æ–­å‡å»ä¸€ä¸ªä»1å¼€å§‹ä¸æ–­å¢å¤§çš„å¥‡æ•°ï¼Œè‹¥æœ€ç»ˆå‡æˆäº†0ï¼Œè¯´æ˜æ˜¯å®Œå…¨å¹³æ–¹æ•°ï¼Œå¦åˆ™ï¼Œä¸æ˜¯ã€‚
3. ç‰›é¡¿æ³•ï¼šåŒä¸Šï¼Œè¿­ä»£æ‰¾åˆ°é›¶ç‚¹ï¼Œåˆ¤æ–­`int(x0) * int(x0) == num`å³å¯ã€‚

### C++

```c++
class Solution {
public:
    bool isPerfectSquare(int num) {
        if (num == 1) return true;  // ç‰¹æ®Šæƒ…å†µ
        int left = 1;
        int right = num / 2;
        while (left <= right) {
            int mid = left + (right - left) / 2;
            if (mid < num / mid) {
                left = mid + 1;
            } else if (mid > num / mid) {
                right = mid - 1;
            } else {
                if (mid * mid == num) {
                    return true;  // é˜²æ­¢èˆå…¥è¯¯å·®ï¼ŒåŠ ä¸ªåˆ¤æ–­ï¼Œæ­¤æ—¶ä¸ä¼šæº¢å‡ºå¯æ”¾å¿ƒä½¿ç”¨
                } else {
                    return false;
                }
            }
        }
        return false;
    }
};
```

```c++
class Solution {
public:
    bool isPerfectSquare(int num) {
        int item = 1;
        while (num > 0) {
            num -= item;
            item += 2;
        }
        return num == 0;
    }
};
```

### Python

```python
class Solution:
    def isPerfectSquare(self, num: int) -> bool:
        if num == 1: return True
        left = 1
        right = num // 2
        while left <= right:
            mid = left + (right - left) // 2
            if (mid ** 2 < num):
                left = mid + 1
            elif (mid ** 2 > num):
                right = mid - 1
            else:
                return True
        return False
```

# å¿«æ…¢æŒ‡é’ˆ

## 27ç§»é™¤å…ƒç´ 

**æ•°ç»„çš„å…ƒç´ åœ¨å†…å­˜åœ°å€ä¸­æ˜¯è¿ç»­çš„ï¼Œä¸èƒ½å•ç‹¬åˆ é™¤æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ï¼Œåªèƒ½è¦†ç›–ã€‚**

1. çˆ†ç ´æ³•ï¼Œå¯ä»¥é€šè¿‡ï¼Œå¤æ‚åº¦$O(n^2)$
2. åŒæŒ‡é’ˆæ³•ï¼š**åœ¨æ•°ç»„å’Œé“¾è¡¨çš„æ“ä½œä¸­æ˜¯éå¸¸å¸¸è§çš„**
   - å¿«æŒ‡é’ˆï¼šå¯»æ‰¾æ–°æ•°ç»„çš„å…ƒç´  ï¼Œæ–°æ•°ç»„å°±æ˜¯ä¸å«æœ‰ç›®æ ‡å…ƒç´ çš„æ•°ç»„
   - æ…¢æŒ‡é’ˆï¼šæŒ‡å‘æ›´æ–°æ–°æ•°ç»„ä¸‹æ ‡çš„ä½ç½®

3. å·¦å³æŒ‡é’ˆæ³•ï¼šä¸¤å¤´é€¼è¿‘ï¼Œæ‰¾å·¦è¾¹ç­‰äºvalçš„å’Œå³è¾¹ä¸ç­‰äºvalçš„ï¼ŒæŠŠå³è¾¹ç§»åˆ°å·¦è¾¹ï¼Œæœ€ç»ˆè¿”å›å·¦æŒ‡é’ˆã€‚

### C++

1. çˆ†ç ´æ³•

```c++
class Solution {
public:
    // çˆ†ç ´æ³•
    int removeElement(vector<int>& nums, int val) {
        int slowIndex = 0;
        for (int fastIndex = 0; fastIndex < nums.size(); fastIndex++) {
            if (nums[fastIndex] != val) {
                nums[slowIndex++] = nums[fastIndex];
            }
        }
        return slowIndex;
    }
};
```

2. å¿«æ…¢æŒ‡é’ˆæ³•

```c++
class Solution {
public:
    // å¿«æ…¢æŒ‡é’ˆæ³•
    int removeElement(vector<int>& nums, int val) {
        int slowIndex = 0;
        for (int fastIndex = 0; fastIndex < nums.size(); fastIndex++) {
            if (nums[fastIndex] != val) {
                nums[slowIndex++] = nums[fastIndex];
            }
        }
        return slowIndex;
    }
};
```

### Python

åŒæŒ‡é’ˆæ³•

```python
class Solution:
    def removeElement(self, nums: List[int], val: int) -> int:
        # åŒæŒ‡é’ˆæ³•
        slowIndex = 0
        for fastIndex in range(len(nums)):
            if nums[fastIndex] != val:
                nums[slowIndex] = nums[fastIndex]
                slowIndex += 1
        return slowIndex
```

## 26åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹

- å…¸å‹çš„å¿«æ…¢æŒ‡é’ˆæ³•

### C++

```c++
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        int slowIndex = 0;  // æ…¢æŒ‡é’ˆæŒ‡ç¤ºæ’å…¥å•ä¸€æ•°å€¼ä½ç½®
        int nowNum = nums[0];
        for (int fastIndex = 0; fastIndex < nums.size(); fastIndex++) {  // å¿«æŒ‡é’ˆæŒ‡ç¤ºéå†æœ«å°¾
            if (nums[fastIndex] != nowNum) {
                nums[slowIndex++] = nowNum;
                nowNum = nums[fastIndex];
            }
        }
        nums[slowIndex++] = nowNum;  // æœ€åä¸€ä¸ªå­˜å…¥
        return slowIndex;
    }
};
```

### Python

```python
class Solution:
    def removeDuplicates(self, nums: List[int]) -> int:
        slowIndex = 0
        numNow = nums[0]
        for fastIndex in range(len(nums)):
            if (nums[fastIndex] != numNow):
                nums[slowIndex] = numNow
                slowIndex += 1
                numNow = nums[fastIndex]
        nums[slowIndex] = numNow
        return slowIndex + 1
```

## 283ç§»åŠ¨é›¶

- åŒæŒ‡é’ˆéå†é0å…ƒç´ ï¼Œæœ€åè¡¥0

### C++

```c++
class Solution {
public:
    void moveZeroes(vector<int>& nums) {
        int slowIndex = 0; // æ…¢æŒ‡é’ˆ
        for (int fastIndex = 0; fastIndex < nums.size(); fastIndex++) {
            if (nums[fastIndex] != 0) {
                nums[slowIndex++] = nums[fastIndex];  // æ›¿æ¢é0å…ƒç´ 
            }
        }
        for (;slowIndex < nums.size(); slowIndex++) {
            nums[slowIndex] = 0; // æœ«å°¾è¡¥0
        }
    }
};
```

### Python

```python
class Solution:
    def moveZeroes(self, nums: List[int]) -> None:
        """
        Do not return anything, modify nums in-place instead.
        """
        slowIndex = 0
        for fastIndex in range(len(nums)):
            if (nums[fastIndex] != 0):
                nums[slowIndex] = nums[fastIndex]
                slowIndex += 1
        while slowIndex < len(nums):
            nums[slowIndex] = 0
            slowIndex += 1
```

## 844*æ¯”è¾ƒå«é€€æ ¼çš„å­—ç¬¦ä¸²

![image-20230106113550896](01æ•°ç»„/image-20230106113550896.png)

- å‡†å¤‡ä¸¤ä¸ªæŒ‡é’ˆ i, j åˆ†åˆ«æŒ‡å‘ Sï¼ŒT çš„æœ«ä½å­—ç¬¦ï¼Œå†å‡†å¤‡ä¸¤ä¸ªå˜é‡ skipSï¼ŒskipT æ¥åˆ†åˆ«å­˜æ”¾ Sï¼ŒT å­—ç¬¦ä¸²ä¸­çš„ # æ•°é‡ã€‚

- ä»åå¾€å‰éå† Sï¼Œæ‰€é‡æƒ…å†µæœ‰ä¸‰ï¼Œ

  1. è‹¥å½“å‰å­—ç¬¦æ˜¯ #ï¼Œåˆ™ skipS è‡ªå¢ 1ï¼› 
  2. è‹¥å½“å‰å­—ç¬¦ä¸æ˜¯ #ï¼Œä¸” skipS ä¸ä¸º 0ï¼Œåˆ™ skipS è‡ªå‡ 1ï¼› 
  3. è‹¥å½“å‰å­—ç¬¦ä¸æ˜¯ #ï¼Œä¸” skipS ä¸º 0ï¼Œåˆ™ä»£è¡¨å½“å‰å­—ç¬¦ä¸ä¼šè¢«æ¶ˆé™¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ¥å’Œ T ä¸­çš„å½“å‰å­—ç¬¦ä½œæ¯”è¾ƒã€‚

  ä½œè€…ï¼š[å¾¡ä¸‰äº” ğŸ¥‡](https://leetcode.cn/problems/backspace-string-compare/solutions/683776/shuang-zhi-zhen-bi-jiao-han-tui-ge-de-zi-8fn8/)
  æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
  è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

æ³¨æ„ï¼š

1. å¿…é¡»åŠ å…¥åˆ¤æ–­é˜²æ­¢æ•°ç»„-1ç´¢å¼•è¶…ç•Œ
2. åœ¨ä¿è¯æ— é€€æ ¼åçš„çœŸå®æƒ…å†µä¸­ï¼Œè‹¥ä¸€ä¸ªå­—ç¬¦ä¸²éå†å®Œï¼Œå¦ä¸€ä¸ªè¿˜æœ‰ï¼Œè¯´æ˜ä¸åŒ¹é…ï¼Œè¦è€ƒè™‘åˆ°

### C++

åŸºç¡€çŸ¥è¯†ï¼š

C++ä¸­å­—ç¬¦ä¸²é•¿åº¦ï¼š`S.length()`

```c++
class Solution {
public:
    bool backspaceCompare(string s, string t) {
        int i = s.length() - 1, j = t.length() - 1;  // å­—ç¬¦ä¸²éå†å˜é‡
        int backS = 0, backT = 0;
        while (i >= 0 || j >= 0) {
            if (i >= 0) {  // é˜²æ­¢æŸä¸ªæŒ‡é’ˆå‡åˆ°-1ä»¥åæ•°ç»„è¶Šç•Œ
                if (s[i] == '#') {  // ä¸º#å·æ—¶æ¸…ç©ºè‡ªå¢
                    backS++;
                    i--;
                    continue;
                } else if (backS > 0) {  // ä¸ä¸º#å·ä½†åé¢æœ‰æ¸…ç©ºæ—¶æ¸…ç©ºä¸è€ƒè™‘
                    backS--;
                    i--;
                    continue;
                }
            }
            if (j >= 0) {
                if (t[j] == '#') {
                    backT++;
                    j--;
                    continue;
                } else if (backT > 0) {
                    backT--;
                    j--;
                    continue;
                }
            }
            if (i >= 0 && j >= 0) {
                if (s[i] != t[j]) {
                    return false;
                }
            } else if (i >= 0 || j >= 0) {  // æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²å…ˆè·‘å®Œäº†ï¼Œæ­¤æ—¶ä¸ºfalse
                return false;
            }
            i--; j--;
        }
        return true;
    }
};
```

å†…éƒ¨ä¸¤ä¸ªåˆ¤æ–­é€€æ ¼çš„æ¡ä»¶è¯­å¥continueå¤ªå¤šï¼Œå†™æˆå¾ªç¯æ›´å¥½ä¸€äº›ï¼š

```c++
while (i >= 0) {
    if (S[i] == '#') {
        skipS++, i--;
    } else if (skipS > 0) {
        skipS--, i--;
    } else {
        break;
    }
}
while (j >= 0) {
    if (T[j] == '#') {
        skipT++, j--;
    } else if (skipT > 0) {
        skipT--, j--;
    } else {
        break;
    }
}
```

### Python

- ä½¿ç”¨äº†å‰é¢è¯´çš„whileå¾ªç¯åŒ…è£¹çš„æ–¹æ³•
- whileå¾ªç¯ä¸€å®šä¸è¦å¿˜è®°å¾ªç¯å˜é‡çš„å˜åŒ–â€”â€”è‡ªå‡æˆ–è‡ªå¢

```python
class Solution:
    def backspaceCompare(self, s: str, t: str) -> bool:
        i, j = len(s)- 1, len(t) - 1  # ä¸‹æ ‡æŒ‡é’ˆ
        backS, backT = 0, 0  # é€€æ ¼å˜é‡
        while i >= 0 or j >= 0:
            while i >= 0:
                if s[i] == "#":
                    backS += 1
                    i -= 1
                elif backS > 0:
                    backS -= 1
                    i -= 1
                else:
                    break
            while j >= 0:
                if t[j] == "#":
                    backT += 1
                    j -= 1
                elif backT > 0:
                    backT -= 1
                    j -= 1
                else:
                    break
            if i >= 0 and j >= 0:
                if s[i] != t[j]:
                    return False
            elif i >= 0 or j >= 0:
                return False
            i -= 1  # åˆ«å¿˜è®°è¿™é‡Œï¼ï¼
            j -= 1
        return True
```

# å·¦å³æŒ‡é’ˆ

## 977æœ‰åºæ•°ç»„çš„å¹³æ–¹

æ³¨æ„åŒæŒ‡é’ˆæ³•å¾ªç¯åˆ¤æ–­æ¡ä»¶ä¸ºi=jï¼Œå¦åˆ™æœ€åä¸€ä¸ªæœ€å°çš„æ•°å°±æ²¡æœ‰äº†

### C++

1. å¹³æ–¹å®Œå¿«æ’ O(n)+O(nlogn)

```c++
class Solution {
public:
    vector<int> sortedSquares(vector<int>& nums) {
        for (int i = 0; i < nums.size(); i++) {
            nums[i] *= nums[i];
        }
        sort(nums.begin(),nums.end());
        return nums;
    }
};
```

2. åŒæŒ‡é’ˆæ³•O(n)

```c++
class Solution {
public:
    vector<int> sortedSquares(vector<int>& nums) {
        int i = 0;
        int j = nums.size() - 1;
        int k = j;
        vector<int> result(nums.size(), 0);  // åˆå§‹åŒ–ä¸€ä¸ªé•¿åº¦ä¸ºsizeçš„vectorï¼Œå…¶å€¼éƒ½ä¸º0
        while (i <= j) {
            if (nums[i] * nums[i] < nums[j] * nums[j]) {
                result[k--] = nums[j] * nums[j];
                j--;
            }
            else {
                result[k--] = nums[i] * nums[i];
                i++;
            }
        }
        return result;
    }
};
```

### Python

- åŒæŒ‡é’ˆæ³•

```python
class Solution:
    def sortedSquares(self, nums: List[int]) -> List[int]:
        i = 0
        n = len(nums)
        j, k = n - 1, n - 1
        result = [0] * n
        while i <= j:
            if nums[i] ** 2 < nums[j] ** 2:
                result[k] = nums[j] ** 2
                j -= 1
            else:
                result[k] = nums[i] ** 2
                i += 1
            k -= 1
        return result
```

# æ»‘åŠ¨çª—å£

## 205é•¿åº¦æœ€å°çš„å­æ•°ç»„

åªç”¨ä¸€ä¸ªforå¾ªç¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå¾ªç¯çš„ç´¢å¼•ï¼Œä¸€å®šæ˜¯è¡¨ç¤º æ»‘åŠ¨çª—å£çš„ç»ˆæ­¢ä½ç½®

- ä¹Ÿç®—æ˜¯åŒæŒ‡é’ˆæ³•çš„ä¸€ç§
- ç»ˆæ­¢æŒ‡é’ˆä¸ºå¾ªç¯éå†ç´¢å¼•
- èµ·å§‹æŒ‡é’ˆæ§åˆ¶çª—å£å¤§å°

ä¸è¦ä»¥ä¸ºforé‡Œæ”¾ä¸€ä¸ªwhileå°±ä»¥ä¸ºæ˜¯O(n^2)ï¼Œæ¯ä¸ªå…ƒç´ åœ¨æ»‘åŠ¨çª—åè¿›æ¥æ“ä½œä¸€æ¬¡ï¼Œå‡ºå»æ“ä½œä¸€æ¬¡ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯è¢«æ“ä½œä¸¤æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ 2 Ã— n ä¹Ÿå°±æ˜¯O(n)ã€‚

æš´åŠ›ç ´è§£å¤æ‚åº¦O(n^2)ä¼šè¶…æ—¶ã€‚

### C++

- int32æ— ç©·å¤§ï¼š`INT32_MAX`

```c++
class Solution {
public:
    int minSubArrayLen(int target, vector<int>& nums) {
        int result = INT32_MAX; // ä»£è¡¨æ— ç©·å¤§
        int i = 0; // çª—å£å¤´æŒ‡é’ˆ
        int sum = 0; // å’Œ
        for (int j = 0; j < nums.size(); j++) {
            sum += nums[j];
            while (sum >= target) {
                int len = j - i + 1;
                result = result < len ? result : len;
                sum -= nums[i++];
            }
        }
        return result == INT32_MAX ? 0 : result;
    }
};
```

### Python

- floatæ— ç©·å¤§ï¼š`float("inf")`

```python
class Solution:
    def minSubArrayLen(self, target: int, nums: List[int]) -> int:
        i = 0
        sum = 0
        result = float("inf") # pythonçš„floatæ­£æ— ç©·
        for j in range(len(nums)):
            sum += nums[j]
            while sum >= target:
                result = min(result, j - i + 1)
                sum -= nums[i]
                i += 1
        return 0 if result == float("inf") else result
```

## 904*æ°´æœæˆç¯®

### C++

1. è‡ªå·±å†™çš„æ»‘åŠ¨çª—å£ï¼šè®¾ç½®ä¸¤ä¸ªå­˜æ”¾æ°´æœçš„å˜é‡ï¼Œè®¾ç½®å¤´æŒ‡é’ˆå’Œä¸‹æ¬¡å¤´æŒ‡é’ˆå¤‡é€‰ï¼Œéå†ä¸€æ¬¡å³å¯

```c++
class Solution {
public:
    int totalFruit(vector<int>& fruits) {
        int head = 0; // çª—å£å¤´æŒ‡é’ˆ
        int next = 0; // æŒ‡ç¤ºä¸‹ä¸€ä¸ªçª—å£å¼€å¤´çš„æŒ‡é’ˆ
        int basket1 = fruits[0];  // ç¬¬ä¸€ä¸ªç¯®å­æ”¾ä¸Šä¸€ä¸ªæœæ ‘çš„ç§ç±»
        int basket2 = -1; // ç¬¬äºŒä¸ªç¯®å­æ”¾å¦å¤–ä¸€ä¸ªæœæ ‘çš„ç§ç±»
        int num = 0; // æœ€å¤šæ‘˜æ°´æœæ•°ç›®
        for (int i = 0; i < fruits.size(); i++) { // éå†æœæ ‘
            if (fruits[i] == basket1) continue; // æ­¤æœæ ‘å’Œä¸Šä¸€ä¸ªæœæ ‘ç§ç±»ç›¸åŒï¼Œpassï¼Œç»§ç»­ä¸‹ä¸€ä¸ª
            if (fruits[i] != basket2 && basket2 != -1) {
                // å‡ºç°äº†ç¬¬ä¸‰ç§æœæ ‘ç±»å‹ï¼Œéœ€è¦æ›´æ–°çª—å£ï¼Œä½¿ç”¨ä¸Šä¸€ä¸ªçª—å£çš„é•¿åº¦æ›´æ–°num
                // æ³¨æ„æ­¤å¤„basket2 != -1æ˜¯ä¸ºäº†é˜²æ­¢åˆšå¼€å¤´ç¬¬äºŒç§æ°´æœå‡ºç°æ—¶basket2è¿˜ä¸ºåˆå§‹å€¼-1ï¼Œæ­¤æ—¶ä¸åº”å½“æ›´æ–°çª—å£
                num = i - head > num ? i - head : num;
                head = next;  // ä¸‹ä¸€ä¸ªçª—å£ä»nextéƒ¨åˆ†å¼€å§‹
            }
            // å‡ºç°å’Œä¸Šä¸€ä¸ªä¸åŒçš„æœæ ‘ï¼Œéœ€è¦æ›´æ–°æœç¯®å’Œnext
            basket2 = basket1;
            basket1 = fruits[i];  // ç¯®å­1å§‹ç»ˆå­˜æ”¾ä¸Šä¸€ä¸ªæœæ ‘çš„ç§ç±»
            next = i;  // ä¸‹æ¬¡è‹¥æ›´æ–°çª—å£ï¼Œå¤´æŒ‡é’ˆä»æ­¤å¤„å¼€å§‹
        }
        // æ›´æ–°æœ€åä¸€ä¸ªçª—å£çš„é•¿åº¦
        num = fruits.size() - head > num ? fruits.size() - head : num;
        return num;
    }
};
```

2. **å®˜æ–¹ï¼ˆå¾…ç ”ç©¶å­¦ä¹ ï¼‰**ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨é”®å€¼å¯¹é…åˆæ»‘åŠ¨çª—å£ï¼Œæ¯æ¬¡ç§»åŠ¨rightã€‚å¦‚æœæ­¤æ—¶å“ˆå¸Œè¡¨ä¸æ»¡è¶³è¦æ±‚ï¼ˆå³å“ˆå¸Œè¡¨ä¸­å‡ºç°è¶…è¿‡ä¸¤ä¸ªé”®å€¼å¯¹ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä¸æ–­ç§»åŠ¨ leftï¼Œå¹¶å°† fruits[left]ä»å“ˆå¸Œè¡¨ä¸­ç§»é™¤ï¼Œç›´åˆ°å“ˆå¸Œè¡¨æ»¡è¶³è¦æ±‚ä¸ºæ­¢ã€‚

- *auto*æ˜¯ä¸€ä¸ªC/*C++*è¯­è¨€å­˜å‚¨ç±»å‹,ä»…åœ¨è¯­å¥å—å†…éƒ¨ä½¿ç”¨,åˆå§‹åŒ–å¯ä¸ºä»»ä½•è¡¨è¾¾å¼,å…¶ç‰¹ç‚¹æ˜¯å½“æ‰§è¡Œæµç¨‹è¿›å…¥è¯¥è¯­å¥å—çš„æ—¶å€™åˆå§‹åŒ–å¯ä¸ºä»»ä½•è¡¨è¾¾å¼ã€‚

  https://blog.csdn.net/qq_38228260/article/details/126308644

- unordered_mapæ˜¯ä¸€ç§å…³è”å®¹å™¨ï¼Œå­˜å‚¨åŸºäºé”®å€¼å’Œæ˜ å°„ç»„æˆçš„å…ƒç´ ï¼Œå³key-valueã€‚å…è®¸åŸºäºé”®å¿«é€ŸæŸ¥æ‰¾å…ƒç´ ã€‚åœ¨unordered_mapä¸­ï¼Œé”®å€¼å”¯ä¸€æ ‡è¯†å…ƒç´ ï¼Œæ˜ å°„çš„å€¼æ˜¯ä¸€ä¸ªä¸è¯¥å¯¹è±¡å…³è”çš„å†…å®¹çš„å¯¹è±¡ã€‚

  https://blog.csdn.net/weixin_45745854/article/details/122785542

  - æŸ¥æ‰¾ï¼šfind()
  - è®¡æ•°ï¼šcount()
  - æ’å…¥ï¼šinsert()
  - åˆ é™¤ï¼šerase()

```c++
class Solution {
public:
    int totalFruit(vector<int>& fruits) {
        int n = fruits.size();
        unordered_map<int, int> cnt;

        int left = 0, ans = 0;
        for (int right = 0; right < n; ++right) {
            ++cnt[fruits[right]];
            while (cnt.size() > 2) {
                auto it = cnt.find(fruits[left]);
                --it->second;
                if (it->second == 0) {
                    cnt.erase(it);
                }
                ++left;
            }
            ans = max(ans, right - left + 1);
        }
        return ans;
    }
};
```

### Python

```python
class Solution:
    def totalFruit(self, fruits: List[int]) -> int:
        head, next = 0, 0
        basket1 = fruits[0]
        basket2 = -1
        num = 0
        for i in range(len(fruits)):
            if fruits[i] == basket1: continue
            if fruits[i] != basket2 and basket2 != -1:
                num = max(i - head, num)
                head = next
            basket2 = basket1
            basket1 = fruits[i]
            next = i
        num = max(len(fruits) - head, num)
        return num
```

## 76*æœ€å°è¦†ç›–å­ä¸²



### C++

åŸºç¡€çŸ¥è¯†ï¼š

- forå¾ªç¯è¿­ä»£æ•°ç»„ã€å­—ç¬¦ä¸²å…ƒç´ ä½¿ç”¨`:`

```c++
//éšæœºå®šä¹‰çš„æ•°ç»„
int array[10] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };
	
for (auto a : array) {  //è¿™é‡Œçš„autoå¯ä»¥æ”¹æˆintï¼Œautoè‡ªåŠ¨åŒ¹é…ç±»å‹
	cout << a << " ";	//è¾“å‡ºï¼š1 2 3 4 5 6 7 8 9 10
}
```

- å–å­ä¸²ï¼š`s.substr(start, size)`

1. 128çš„æ•°ç»„ä»£æ›¿å“ˆå¸Œè¡¨

```c++
class Solution {
public:
    string minWindow(string s, string t) {
        vector<int> need(128, 0); // å¯¹æ¯ä¸ªå­—ç¬¦çš„éœ€æ±‚ï¼Œä½¿ç”¨vectorå³å¯ï¼Œä¸€èˆ¬ä½¿ç”¨å“ˆå¸Œè¡¨
        int left = 0, right = 0; // å·¦å³æŒ‡é’ˆ
        int start = 0, size = INT32_MAX; // å­ä¸²ä½ç½®å’Œé•¿åº¦ï¼ŒåŠ¨æ€æ›´æ–°
        int needCnt = t.length(); // æ€»å…±è¿˜éœ€è¦çš„å­—ç¬¦æ•°é‡
        for (char c: t) {  // åˆå§‹åŒ–need
            need[c]++;
        }
        while (right < s.length()) { // çª—å£å³æŒ‡é’ˆæ»‘åŠ¨
            char c = s[right];
            if (need[c] > 0) needCnt--;  // æ›´æ–°æ€»éœ€è¦æ•°é‡
            need[c]--; // æ›´æ–°need
            if (needCnt == 0) {  // æ­¤æ—¶éœ€è¦æ”¹å˜å·¦æŒ‡é’ˆæ»‘åŠ¨çª—å£
                while (left < right && need[s[left]] < 0) {  // å·¦çª—å£ç§»åŠ¨ç›´åˆ°ä¸‹ä¸€ä¸ªä¸æ»¡è¶³è¦†ç›–
                    need[s[left++]]++;
                }
                if (right - left + 1 < size) {  // æ›´æ–°å­ä¸²ä½ç½®
                    size = right - left + 1;
                    start = left;
                }
                need[s[left++]]++;  // å·¦æŒ‡é’ˆç§»åŠ¨å¼€å¯ä¸‹ä¸€è½®çª—å£
                needCnt ++;  // åˆšå¥½ç¼ºä¸€ä¸ª
            }
            right++;
        }
        return size == INT32_MAX ? "" : s.substr(start, size);
    }
};
```

2. å“ˆå¸Œè¡¨ï¼šhttps://blog.csdn.net/weixin_45745854/article/details/122785542

   æ›¿æ¢ä¸€å¤„å³å¯ï¼Œå…¶ä»–ç›¸åŒã€‚

```c++
unordered_map <char, int> need;  // æ¯ä¸ªå­—ç¬¦çš„éœ€æ±‚å­—å…¸
```

### Python

åŸºç¡€çŸ¥è¯†ï¼š

- `collections.defaultdict(int)`ã€‚Pythonä¸­é€šè¿‡Keyè®¿é—®å­—å…¸ï¼Œå½“Keyä¸å­˜åœ¨æ—¶ï¼Œä¼šå¼•å‘â€˜KeyErrorâ€™å¼‚å¸¸ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œå¯ä»¥ä½¿ç”¨collectionsç±»ä¸­çš„defaultdict()æ–¹æ³•æ¥ä¸ºå­—å…¸æä¾›é»˜è®¤å€¼ã€‚

  æ­¤å¤„è¾“å…¥intåˆ›å»ºæ—¶é»˜è®¤valueä¸º0ã€‚

```python
import collections
class Solution:
    def minWindow(self, s: str, t: str) -> str:
        need = collections.defaultdict(int)  # éœ€æ±‚å­—å…¸
        for c in t:
            need[c] += 1
        left = 0  # å·¦æŒ‡é’ˆ
        needCnt = len(t)  # æ€»éœ€æ±‚
        zone = (0, float('inf'))  # æˆªå–æœ€å°è¦†ç›–å­ä¸²çš„åŒºé—´
        for right in range(len(s)):  # éå†å³æŒ‡é’ˆ
            c = s[right]
            if need[c] > 0:  # æ›´æ–°éœ€æ±‚å­—å…¸
                needCnt -= 1
            need[c] -= 1
            if needCnt == 0:  # æ»¡è¶³æ¡ä»¶ä»¥å
                while need[s[left]] < 0:  # ç§»åŠ¨å·¦æŒ‡é’ˆåˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³çš„å­—ç¬¦ä¹‹å‰
                    need[s[left]] += 1
                    left += 1
                if right - left < zone[1] - zone[0]: # æ›´æ–°æœ€ä¼˜å­ä¸²ä½ç½®
                    zone = (left, right)
                need[s[left]] += 1
                needCnt += 1
                left += 1
        return '' if zone[1] == float('inf') else s[zone[0]: zone[1] + 1]
```

# æ¨¡æ‹Ÿè¡Œä¸º

## 59*èºæ—‹çŸ©é˜µII

è€ƒå¯Ÿä»£ç æŒæ§çš„é¢˜ã€‚åšæŒ**å¾ªç¯ä¸å˜é‡åŸåˆ™**ã€‚â€”â€”å·¦é—­å³å¼€æˆ–å·¦å¼€å³é—­ã€‚

å¥‡æ•°éœ€è¦ç»™ä¸­å¿ƒå•ç‹¬å¡«å……ã€‚

### C++

```cpp
class Solution {
public:
    vector<vector<int>> generateMatrix(int n) {
        // å·¦é—­å³å¼€
        vector<vector<int>> res(n, vector<int>(n, 0));  // è¾“å‡ºç»“æœ
        int loop = n / 2; // å¾ªç¯æ¬¡æ•°
        int mid = n / 2; // ä¸­å¿ƒæ ‡å·ï¼ˆå¥‡æ•°å¡«å……ï¼‰
        int count = 1; // å¡«å……çš„æ•°å­—ï¼Œæ¯æ¬¡+1
        int startx = 0, starty = 0; // å¾ªç¯çš„å¼€å¤´ï¼Œæ¯æ¬¡+1
        int num = n - 1; // å¾ªç¯æ—¶1/4åœˆå¡«å……æ•°å­—çš„ä¸ªæ•°ï¼Œæ¯æ¬¡-1
        int i, j; // å¾ªç¯å˜é‡
        while (loop--) {
            // ä¸Š
            for (j = starty; j < starty + num; j++) {
                res[startx][j] = count++;
            }
            // å³
            for (i = startx; i < startx + num; i++) {
                res[i][j] = count++;
            }
            // ä¸‹
            for (; j > starty; j--) {
                res[i][j] = count++;
            }
            // å·¦
            for (; i > startx; i--) {
                res[i][j] = count++;
            }
            startx++;
            starty++;
            num -= 2; // æ³¨æ„æ¯æ¬¡å‡2ï¼Œå› ä¸ºå¾€é‡Œå°‘ä¸€åœˆï¼Œä¸¤è¾¹å„å‡ä¸€
        }
        if (n % 2) {
            res[mid][mid] = count;
        }
        return res;
    }
};
```

```c++
class Solution {
public:
    vector<vector<int>> generateMatrix(int n) {
        // é‡è®¾è¾¹ç•Œæ³•ï¼Œç›´åˆ°ä¸¤ä¸ªè¾¹ç•Œäº¤é”™ï¼Œåœæ­¢è¿­ä»£ã€‚è¾¹ç•Œéƒ½æ˜¯é—­åŒºé—´
        vector<vector<int>> res(n, vector<int>(n, 0));  // è¾“å‡ºç»“æœ
        int up = 0, left = 0;
        int down = res.size() - 1;
        int right = res[0].size() - 1;
        int index = 1;
        while (true) {
            for (int i = left; i <= right; i++) res[up][i] = index++;
            if (++up > down) break;

            for (int i = up; i <= down; i++) res[i][right] = index++;
            if (--right < left) break;

            for (int i = right; i >= left; i--) res[down][i] = index++;
            if (--down < up) break;

            for (int i = down; i >= up; i--) res[i][left] = index++;
            if (++left > right) break;
        }
        return res;
    }
};
```

### Python

```python
class Solution:
    def generateMatrix(self, n: int) -> List[List[int]]:
        res = [ [0] * n for _ in range(n)] # è¿”å›äºŒç»´æ•°ç»„
        loop = n // 2
        mid = n // 2
        startx, starty = 0, 0
        count = 1
        num = n - 1
        while loop:
            for i in range(starty, starty + num):
                res[startx][i] = count
                count += 1
            for i in range(startx, startx + num):
                res[i][starty + num] = count
                count += 1
            for i in range(starty + num, starty, -1):
                res[startx + num][i] = count
                count += 1
            for i in range(startx + num, startx, -1):
                res[i][starty] = count
                count += 1
            startx += 1
            starty += 1
            num -= 2
            loop -= 1
        if (n % 2):
            res[mid][mid] = count
        return res
```

## 54èºæ—‹çŸ©é˜µ

- å‰‘æŒ‡Offer 29.é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µã€‚ç›¸åŒé¢˜ç›®ï¼Œå·®åˆ«åœ¨æ­¤é¢˜çŸ©é˜µå…è®¸ä¸ºç©ºã€‚

### C++

åŸºç¡€çŸ¥è¯†ï¼š

- vectoråˆ¤ç©ºï¼š`vector.empty()`
- vectoræœ«å°¾å¢åŠ å†…å®¹ï¼š`vector.push_back(a)`

1. æ™®é€šå¾ªç¯æ³•ï¼Œä¸ä¸Šä¸€é¢˜ç›¸ä¼¼

```c++
class Solution {
public:
    vector<int> spiralOrder(vector<vector<int>>& matrix) {
        if (matrix.size() == 0 || matrix[0].size() == 0) { // å‰‘æŒ‡offerä¸­çš„åˆ¤ç©ºæ¡ä»¶
     // if (matrix.empty()) {
            return {};
        }
        int m = matrix.size();
        int n = matrix[0].size();
        vector<int> res(m * n, 0); // ç»“æœæ•°ç»„
        int index = 0; //å¡«å……ç»“æœçš„ä¸‹æ ‡
        int startx = 0, starty = 0;  // æ¯è½®å¾ªç¯èµ·å§‹ä½ç½®
        int loop = m > n ? n / 2 : m / 2;  // å¾ªç¯æ¬¡æ•°
        int i, j; // å¾ªç¯å˜é‡
        if (m == 1) {  // æŸç»´åº¦ä¸º1çš„ç‰¹æ®Šæƒ…å†µ
            return matrix[0];
        } else if (n == 1) {
            for (i = 0; i < m; i++) {
                res[index++] = matrix[i][0];
            }
            return res;
        }
        while (loop--) {  // å¤–åœˆå¾ªç¯ï¼Œå·¦é—­å³å¼€
            for (j = starty; j < n - starty - 1; j++) {
                res[index++] = matrix[startx][j];
            }
            for (i = startx; i < m - startx -1; i++) {
                res[index++] = matrix[i][j];
            }
            for (; j > startx; j--) {
                res[index++] = matrix[i][j];
            }
            for (; i > starty; i--) {
                res[index++] = matrix[i][j];
            }
            startx++;
            starty++;
        }
        if (m < n && m % 2) {  // è¡Œæ¯”åˆ—å°‘ï¼Œåˆ—ä¸ºå¥‡æ•°ï¼Œæœ€ä¸­é—´ä¸€åˆ—éå†
            for (j = starty; j < n - starty; j++) {
                res[index++] = matrix[startx][j];
            }
        }
        if (m > n && n % 2) {  // è¡Œæ¯”åˆ—å¤šï¼Œè¡Œä¸ºå¥‡æ•°ï¼Œæœ€ä¸­é—´ä¸€è¡Œéå†
            for (i = startx; i < m - startx; i++) {
                res[index++] = matrix[i][starty];
            }
        }
        if (n == m && n % 2) {  // è¡Œåˆ—ç›¸ç­‰ï¼Œä¸ºå¥‡æ•°ï¼Œæœ€ä¸­é—´ä¸€ä¸ªå…ƒç´ 
            res[index++] = matrix[startx][starty];
        }
        return res;
    }
};
```

2. ä¼˜é›…çš„è§£æ³•ï¼šé‡è®¾è¾¹ç•Œæ³•

![image-20230107150552547](01æ•°ç»„/image-20230107150552547.png)

```c++
class Solution {
public:
    vector<int> spiralOrder(vector<vector<int>>& matrix) {
        // é‡è®¾è¾¹ç•Œæ³•ï¼Œç›´åˆ°ä¸¤ä¸ªè¾¹ç•Œäº¤é”™ï¼Œåœæ­¢è¿­ä»£ã€‚è¾¹ç•Œéƒ½æ˜¯é—­åŒºé—´
        vector<int> res;
        if (matrix.empty()) return {};
        int up = 0, left = 0;
        int down = matrix.size() - 1;
        int right = matrix[0].size() - 1;
        while (true) {
            for (int i = left; i <= right; i++) res.push_back(matrix[up][i]);
            if (++up > down) break;

            for (int i = up; i <= down; i++) res.push_back(matrix[i][right]);
            if (--right < left) break;

            for (int i = right; i >= left; i--) res.push_back(matrix[down][i]);
            if (--down < up) break;

            for (int i = down; i >= up; i--) res.push_back(matrix[i][left]);
            if (++left > right) break;
        }
        return res;
    }
};
```

### Python

1. é‡è®¾è¾¹ç•Œæ³•

```python
class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        if len(matrix) == 0 or len(matrix[0]) == 0:
            return []
        up, left = 0, 0
        down = len(matrix) - 1
        right = len(matrix[0]) - 1
        res = []
        while True:
            for i in range(left, right + 1):
                res.append(matrix[up][i])
            up += 1
            if up > down:
                break

            for i in range(up, down + 1):
                res.append(matrix[i][right])
            right -= 1
            if left > right:
                break

            for i in range(right, left - 1, -1):
                res.append(matrix[down][i])
            down -= 1
            if up > down:
                break

            for i in range(down, up - 1, -1):
                res.append(matrix[i][left])
            left += 1
            if left > right:
                break
        return res
```

